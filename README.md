<<<<<<< HEAD
# ÐšÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð¼Ð°Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚Ñ€ÑŽÐºÐ¾Ð²

Ð­Ñ‚Ð¾Ñ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð±Ð¾Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¼Ð°Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚Ñ€ÑŽÐºÐ¾Ð² Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¸Ñ… Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¹. Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð°Ð²Ð¸Ð» Ð¸ Ð½ÐµÐ¹Ñ€Ð¾Ð½Ð½Ð¾Ð¹ ÑÐµÑ‚Ð¸ Ð´Ð»Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸Ðº Ñ‚Ñ€ÑŽÐºÐ°, Ñ‚Ð°ÐºÐ¸Ñ… ÐºÐ°Ðº ÑÑ„Ñ„ÐµÐºÑ‚, Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚, Ð¼Ð°ÑÑˆÑ‚Ð°Ð±, ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ Ñ‚Ð¸Ð¿ Ñ‚Ð¾Ð²Ð°Ñ€Ð°.

## ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

- ðŸŽ¯ ÐœÐ½Ð¾Ð³Ð¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ð°Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¿Ð¾ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ð¼ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼
- ðŸ¤– Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ BART Ð´Ð»Ñ ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
- ðŸ“ ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… ÑÐ»Ð¾Ð²
- ðŸ’¾ ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð´Ð»Ñ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
- ðŸŒ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ñ€ÑƒÑÑÐºÐ¾Ð³Ð¾ Ð¸ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ¾Ð²
- ðŸ“Š ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ñ‹

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

1. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹:
```bash
git clone [url-Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ]
cd [Ð¸Ð¼Ñ-Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸]
```

2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
```bash
pip install -r requirements.txt
```

## Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

```python
from magic_classifier import tag_csv_with_progress

# ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° CSV Ñ„Ð°Ð¹Ð»Ð°
tag_csv_with_progress(
    input_file='input.csv',
    output_file='output.csv',
    threshold=0.3,  # ÐŸÐ¾Ñ€Ð¾Ð³ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð»Ñ Ñ‚ÐµÐ³Ð¾Ð²
    top_k=3,        # ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‚ÐµÐ³Ð¾Ð² Ð½Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ
    batch_size=8    # Ð Ð°Ð·Ð¼ÐµÑ€ Ð±Ð°Ñ‚Ñ‡Ð° Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
)
```

### ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹

- `input_file` (str): ÐŸÑƒÑ‚ÑŒ Ðº Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð¼Ñƒ CSV Ñ„Ð°Ð¹Ð»Ñƒ
- `output_file` (str): ÐŸÑƒÑ‚ÑŒ Ðº Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð¼Ñƒ CSV Ñ„Ð°Ð¹Ð»Ñƒ
- `limit` (int, optional): ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ñ… ÑÑ‚Ñ€Ð¾Ðº
- `threshold` (float, default=0.3): ÐŸÐ¾Ñ€Ð¾Ð³ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð»Ñ Ñ‚ÐµÐ³Ð¾Ð²
- `top_k` (int, default=3): ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‚ÐµÐ³Ð¾Ð² Ð½Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ
- `batch_size` (int, default=8): Ð Ð°Ð·Ð¼ÐµÑ€ Ð±Ð°Ñ‚Ñ‡Ð° Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
- `cache_file` (str, default='cache.pkl'): ÐŸÑƒÑ‚ÑŒ Ðº Ñ„Ð°Ð¹Ð»Ñƒ ÐºÑÑˆÐ°
- `force` (bool, default=False): ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÑŒ ÐºÑÑˆÐ°
- `rules_priority` (str, default='append'): ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð» ('prefer_rules', 'prefer_model', 'append')

### Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°

Ð’Ñ…Ð¾Ð´Ð½Ð¾Ð¹ CSV Ñ„Ð°Ð¹Ð» Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸:
- `name`: ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ñ€ÑŽÐºÐ°
- `description`: ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‚Ñ€ÑŽÐºÐ°

### Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°

Ð’Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð¹ CSV Ñ„Ð°Ð¹Ð» Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð²ÑÐµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð¿Ð»ÑŽÑ:
- `effect`: Ð­Ñ„Ñ„ÐµÐºÑ‚Ñ‹ Ñ‚Ñ€ÑŽÐºÐ°
- `effect_ru`: Ð­Ñ„Ñ„ÐµÐºÑ‚Ñ‹ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- `props`: Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚
- `props_ru`: Ð ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- `scale`: ÐœÐ°ÑÑˆÑ‚Ð°Ð± Ñ‚Ñ€ÑŽÐºÐ°
- `scale_ru`: ÐœÐ°ÑÑˆÑ‚Ð°Ð± Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- `difficulty`: Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸
- `difficulty_ru`: Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- `product_type`: Ð¢Ð¸Ð¿ Ñ‚Ð¾Ð²Ð°Ñ€Ð°
- `product_type_ru`: Ð¢Ð¸Ð¿ Ñ‚Ð¾Ð²Ð°Ñ€Ð° Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- `tags_json`: JSON ÑÐ¾ Ð²ÑÐµÐ¼Ð¸ Ñ‚ÐµÐ³Ð°Ð¼Ð¸ Ð¸ Ð¸Ñ… ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸

## ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸

### Ð­Ñ„Ñ„ÐµÐºÑ‚Ñ‹
- ÐœÐµÐ½Ñ‚Ð°Ð»Ð¸Ð·Ð¼
- ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ
- Ð˜ÑÑ‡ÐµÐ·Ð½Ð¾Ð²ÐµÐ½Ð¸Ðµ
- ÐŸÐ¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ
- Ð¢Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
- Ð˜ Ð´Ñ€ÑƒÐ³Ð¸Ðµ...

### Ð ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚
- ÐšÐ°Ñ€Ñ‚Ñ‹
- ÐœÐ¾Ð½ÐµÑ‚Ñ‹
- Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½
- Ð’Ð¾Ð»ÑˆÐµÐ±Ð½Ð°Ñ Ð¿Ð°Ð»Ð¾Ñ‡ÐºÐ°
- Ð˜ Ð´Ñ€ÑƒÐ³Ð¸Ðµ...

### ÐœÐ°ÑÑˆÑ‚Ð°Ð±
- ÐœÐ¸ÐºÑ€Ð¾Ð¼Ð°Ð³Ð¸Ñ
- Ð¡Ð°Ð»Ð¾Ð½Ð½Ð°Ñ Ð¼Ð°Ð³Ð¸Ñ
- Ð¡Ñ†ÐµÐ½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¼Ð°Ð³Ð¸Ñ
- Ð˜ Ð´Ñ€ÑƒÐ³Ð¸Ðµ...

### Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ
- ÐÐ°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð¸Ð¹
- Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹
- ÐŸÑ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ñ‹Ð¹
- ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹

### Ð¢Ð¸Ð¿ Ñ‚Ð¾Ð²Ð°Ñ€Ð°
- Ð¤Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚Ð¾Ð²Ð°Ñ€
- Ð¦Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°
- Ð’Ð¸Ð´ÐµÐ¾
- ÐšÐ½Ð¸Ð³Ð°
- Ð˜ Ð´Ñ€ÑƒÐ³Ð¸Ðµ...

## ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ 1: Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ
```python
from magic_classifier import tag_csv_with_progress

tag_csv_with_progress(
    input_file='tricks.csv',
    output_file='classified_tricks.csv'
)
```

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ 2: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð²
```python
from magic_classifier import tag_csv_with_progress

tag_csv_with_progress(
    input_file='tricks.csv',
    output_file='classified_tricks.csv',
    threshold=0.4,    # Ð‘Ð¾Ð»ÐµÐµ ÑÑ‚Ñ€Ð¾Ð³Ð¸Ð¹ Ð¿Ð¾Ñ€Ð¾Ð³
    top_k=5,          # Ð‘Ð¾Ð»ÑŒÑˆÐµ Ñ‚ÐµÐ³Ð¾Ð² Ð½Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ
    batch_size=16,    # Ð‘Ð¾Ð»ÑŒÑˆÐ¸Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð±Ð°Ñ‚Ñ‡Ð°
    rules_priority='prefer_rules'  # ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð» Ð½Ð°Ð´ Ð¼Ð¾Ð´ÐµÐ»ÑŒÑŽ
)
```

## Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ logging Python. Ð”Ð»Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:

```python
import logging
logging.basicConfig(level=logging.INFO)
```

## Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

MIT License 
=======
# magic_trick_classification
>>>>>>> 77bccb317736170f94b2a0728a9529ea924a96e3
