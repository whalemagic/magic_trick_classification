# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä—é–∫–æ–≤

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä—é–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–π. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –ø—Ä–∞–≤–∏–ª –∏ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç—Ä—é–∫–∞, —Ç–∞–∫–∏—Ö –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç, —Ä–µ–∫–≤–∏–∑–∏—Ç, –º–∞—Å—à—Ç–∞–±, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏ —Ç–∏–ø —Ç–æ–≤–∞—Ä–∞.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üéØ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ BART –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- üìù –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üåê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone [url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è]
cd [–∏–º—è-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏]
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from magic_classifier import tag_csv_with_progress

# –û–±—Ä–∞–±–æ—Ç–∫–∞ CSV —Ñ–∞–π–ª–∞
tag_csv_with_progress(
    input_file='input.csv',
    output_file='output.csv',
    threshold=0.3,  # –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–µ–≥–æ–≤
    top_k=3,        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    batch_size=8    # –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `input_file` (str): –ü—É—Ç—å –∫ –≤—Ö–æ–¥–Ω–æ–º—É CSV —Ñ–∞–π–ª—É
- `output_file` (str): –ü—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É CSV —Ñ–∞–π–ª—É
- `limit` (int, optional): –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö —Å—Ç—Ä–æ–∫
- `threshold` (float, default=0.3): –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–µ–≥–æ–≤
- `top_k` (int, default=3): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- `batch_size` (int, default=8): –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `cache_file` (str, default='cache.pkl'): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫—ç—à–∞
- `force` (bool, default=False): –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –∫—ç—à–∞
- `rules_priority` (str, default='append'): –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∞–≤–∏–ª ('prefer_rules', 'prefer_model', 'append')

### –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

–í—Ö–æ–¥–Ω–æ–π CSV —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏:
- `name`: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä—é–∫–∞
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä—é–∫–∞

### –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

–í—ã—Ö–æ–¥–Ω–æ–π CSV —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–ª—é—Å:
- `effect`: –≠—Ñ—Ñ–µ–∫—Ç—ã —Ç—Ä—é–∫–∞
- `effect_ru`: –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- `props`: –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ä–µ–∫–≤–∏–∑–∏—Ç
- `props_ru`: –†–µ–∫–≤–∏–∑–∏—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- `scale`: –ú–∞—Å—à—Ç–∞–± —Ç—Ä—é–∫–∞
- `scale_ru`: –ú–∞—Å—à—Ç–∞–± –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- `difficulty`: –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- `difficulty_ru`: –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- `product_type`: –¢–∏–ø —Ç–æ–≤–∞—Ä–∞
- `product_type_ru`: –¢–∏–ø —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- `tags_json`: JSON —Å–æ –≤—Å–µ–º–∏ —Ç–µ–≥–∞–º–∏ –∏ –∏—Ö —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—è–º–∏

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –≠—Ñ—Ñ–µ–∫—Ç—ã
- –ú–µ–Ω—Ç–∞–ª–∏–∑–º
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
- –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
- –ü–æ—è–≤–ª–µ–Ω–∏–µ
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ò –¥—Ä—É–≥–∏–µ...

### –†–µ–∫–≤–∏–∑–∏—Ç
- –ö–∞—Ä—Ç—ã
- –ú–æ–Ω–µ—Ç—ã
- –¢–µ–ª–µ—Ñ–æ–Ω
- –í–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞
- –ò –¥—Ä—É–≥–∏–µ...

### –ú–∞—Å—à—Ç–∞–±
- –ú–∏–∫—Ä–æ–º–∞–≥–∏—è
- –°–∞–ª–æ–Ω–Ω–∞—è –º–∞–≥–∏—è
- –°—Ü–µ–Ω–∏—á–µ—Å–∫–∞—è –º–∞–≥–∏—è
- –ò –¥—Ä—É–≥–∏–µ...

### –°–ª–æ–∂–Ω–æ—Å—Ç—å
- –ù–∞—á–∏–Ω–∞—é—â–∏–π
- –°—Ä–µ–¥–Ω–∏–π
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π

### –¢–∏–ø —Ç–æ–≤–∞—Ä–∞
- –§–∏–∑–∏—á–µ—Å–∫–∏–π —Ç–æ–≤–∞—Ä
- –¶–∏—Ñ—Ä–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –í–∏–¥–µ–æ
- –ö–Ω–∏–≥–∞
- –ò –¥—Ä—É–≥–∏–µ...

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
```python
from magic_classifier import tag_csv_with_progress

tag_csv_with_progress(
    input_file='tricks.csv',
    output_file='classified_tricks.csv'
)
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```python
from magic_classifier import tag_csv_with_progress

tag_csv_with_progress(
    input_file='tricks.csv',
    output_file='classified_tricks.csv',
    threshold=0.4,    # –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π –ø–æ—Ä–æ–≥
    top_k=5,          # –ë–æ–ª—å—à–µ —Ç–µ–≥–æ–≤ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    batch_size=16,    # –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞
    rules_priority='prefer_rules'  # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∞–≤–∏–ª –Ω–∞–¥ –º–æ–¥–µ–ª—å—é
)
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å logging Python. –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
import logging
logging.basicConfig(level=logging.INFO)
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 